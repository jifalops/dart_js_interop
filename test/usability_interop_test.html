<html>
  <body>
    <script>
      function Animal(name) {
        this.name = name;
        Object.defineProperty(this, 'nameGetSet', {
          get: function() { return this.name; },
          set: function(val) { this.name = val; }
        });
      }
      Animal.prototype.talk = function() {
        return 'I am a ' + this.name;
      };
      Animal.prototype.talk2 = function() {
        return 'I am a ' + this.name;
      };
      Animal.staticName = 'Animal';
      Animal.staticTalk =  function() {
        return 'I am an ' + Animal.staticName;
      }

      //
      // Using classes causes the above class-like Animal to stop working and
      // fail all tests. (dart.global.Animal is not a constructor)
      //
      // Another type of failure: this *_test.dart never compiles.
      //

      // class AnimalClass {
      //   constructor(name) {
      //     this.name = name;
      //   }
      //   talk() { return 'I am a ' + this.name; }
      //   get nameGetSet() { return this.name; }
      //   set nameGetSet(val) { this.name = val; }

      //   static staticName = 'Animal';
      //   static staticTalk() {
      //     return 'I am an ' + AnimalClass.staticName;
      //   }
      // };
      var intValue = 1;
      var doubleValue = 1.1;

      console.log(customElements);

      function caller(prop, oldVal, newVal) {
        console.log(prop, oldVal, newVal);
        return [10];
      }

      function fn(f) { f(3); return 'x';}
    </script>

    <script src="packages/test/dart.js"></script>
    <link href="usability_interop_test.dart" rel="x-dart-test" />
  </body>
</html>
